
## 《计算机图形学》系统使用说明书

**张雨 171860029**

mail：1254832148@qq.com

(南京大学 计算机科学与技术系, 南京  210093)

**摘 要**：在计算机图形学的学习过程中，结合所学知识，实现了图形学系统。其中实现的核心算法模块，包含各种图元的生成：线段的DDA、Bresenham生成算法，多边形的DDA、Bresenham生成算法，椭圆的中点圆生成算法，曲线的Bezier、B-spline生成算法。其中实现的对图元的变换算法，包括：对图元的平移算法，对图元的旋转算法，对图元的缩放算法，对线段的裁剪算法。最终实现了文件输入的命令行系统与用户交互系统。

**关键词**：计算机图形学 图形学系统 图元生成算法 图元变换算法


---

[TOC]

---

### 开发/编译环境说明

- 编程语言：C++
- 开发平台：Windows
- GUI开发框架：Qt
- IDE/编译器：Qt Creator 4.10.0 (Community) + Desktop Qt 5.13.1 MinG 32bit/64bit

---

**注：以下点击默认为鼠标左键**

### 图形界面功能介绍

#### **主界面**
- 点击exe生成图形界面，如下  
<img src="reportImg/1.PNG" width = 60% height = 60% >  

- 点击菜单栏：文件→新建画布，保存画布。绘制图元→画直线，画圆，画椭圆，画多边形，画曲线。变换图元→平移，旋转，缩放，裁剪。其他→选择颜色，删除图元，改变图形，清空画布。帮助→版本  
<img src="reportImg/2.PNG" width = 40% height = 40%>

#### **多窗口新建画布**
- 点击第一个工具栏从左到右第一个“新建”图标，开始新建画布

- 画布大小设置：在点击新建后出现询问框，输入画布的长宽设置，界面如下。输入的长宽在100-1000范围内，则新建画布成功；否则弹出错误信息，新建画布失败

- 点击相应的窗口，即可实现窗口之间的切换

- 演示gif如下  
<img src="reportImg/1.gif" width = 60% height = 60%>

#### **保存画布**
- 概述：点击工具栏左起第二个图标，会自动弹出保存界面
- 保存当前图片为.bmp格式如下  
<img src="reportImg/3.png" width = 40% height = 40%>

#### **关闭窗口**
- 点击每个窗口的右上角，即可关闭该窗口。
- 演示gif如下  
<img src="reportImg/3.gif" width = 60% height = 60%>

#### **图元的生成**

##### **直线的生成**
- 首先选择算法，然后绘制直线
- 绘制直线的方式为拖出直线，即一直按着，到合适处释放，直线生成
- 演示gif如下  
<img src="reportImg/4.gif" width = 60% height = 60%>

##### **圆/椭圆的生成**
- 绘制圆/椭圆的方式为拖出圆/椭圆，即一直按着，到合适处释放，圆/椭圆生成
- 演示gif如下  
<img src="reportImg/5.gif" width = 60% height = 60%>

##### **多边形的生成**
- 首先选择算法
- 多边形的每一边的生成为拖出直线，即一直按着，到合适处释放，多边形一边生成
- 绘制结束时，可以点击右键，或者双击，绘制完成（建议右键，因为在Qt中，双击必定触发单击，虽然做了一些处理，但是仍然建议右键，避免隐藏的bug）
- 演示gif如下  
<img src="reportImg/6.gif" width = 60% height = 60%> 

##### **曲线的生成**
- 首先选择算法
- 曲线控制多边形的每一边的生成为拖出直线，即一直按着，到合适处释放，曲线控制多边形的一边生成，由此生成曲线
- 绘制结束时，可以点击右键，绘制完成
- 演示gif如下  
<img src="reportImg/7.gif" width = 60% height = 60%> 

#### **图元的变换**

##### **平移**
- 点击平移图标
- 选中图元的红色控制点，拖动，直到合适的位置释放，平移完成
- 演示gif如下  
<img src="reportImg/8.gif" width = 60% height = 60%> 

##### **旋转**
- 点击旋转图标
- 首先选中一点，作为旋转中心，该点为绿色的。然后选中某个图元控制点。拖拉控制，即可旋转。
- 演示gif如下  
<img src="reportImg/9.gif" width = 60% height = 60%> 

##### **缩放**
- 点击缩放图标
- 首先选中一点，作为缩放中心，该点为绿色的。然后选中某个图元控制点。拖拉控制，即可缩放。
- 演示gif如下  
<img src="reportImg/10.gif" width = 60% height = 60%> 

##### **裁剪**
- 点击裁剪图标
- 首先选择直线，通过选中控制点选中，。然后选中某个图元控制点。拖拉控制生成裁剪的矩形窗口，即可缩放。
- 演示gif如下  
<img src="reportImg/11.gif" width = 60% height = 60%>    

#### **设置画笔颜色**
- 点击工具栏彩色块的图标，可以选择画出图形的颜色
- 演示gif如下  
<img src="reportImg/12.gif" width = 60% height = 60%>  

#### **删除图元**
- 点击删除图元图标
- 首先选中图元，选中图元的控制点会变成绿色，然后右键，图元被删除。
- 演示gif如下  
<img src="reportImg/13.gif" width = 60% height = 60%>

#### **修改图元**
- 选中图元，然后就会显示改图元的所有控制点。
- 此时可以拖动每个图元的控制点，改变图元的形状。
- 点击右键，表示当前图元修改结束
- 演示gif如下  
<img src="reportImg/14.gif" width = 60% height = 60%> 

#### **清空画布**
- 点击最后一个“清空画布”的图标
- 演示gif如下  
<img src="reportImg/2.gif" width = 60% height = 60%>

#### **获取程序相关信息**
- 点击帮助 → 版本，弹出关于本程序的基本信息
- 效果如下  
<img src="reportImg/4.PNG" width = 20% height = 20%>

--- 

### 命令行功能介绍

#### **输入运行的程序**
- arg1为读取文件的位置
- arg2为输出文件的位置
- 如下图所示  
<img src="reportImg/7.PNG" width = 100% height = 100%>

#### **运行结果如下**
- 在相应的文件夹中得到了相应的结果
<img src="reportImg/6.PNG" width = 100% height = 100%>